"use strict";var l=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var g=(e,o)=>{for(var n in o)l(e,n,{get:o[n],enumerable:!0})},y=(e,o,n,i)=>{if(o&&typeof o=="object"||typeof o=="function")for(let a of m(o))!d.call(e,a)&&a!==n&&l(e,a,{get:()=>o[a],enumerable:!(i=u(o,a))||i.enumerable});return e};var f=e=>y(l({},"__esModule",{value:!0}),e);var S={};g(S,{default:()=>p});module.exports=f(S);var t=require("@raycast/api");var r=require("@raycast/api");async function w(){let e=await(0,r.getApplications)(),o=[];try{o=await(0,r.getApplications)("~/Applications")}catch{}let n=["com.philipyoungg.session-setapp","com.philipyoungg.session","com.philipyoungg.session-direct"];return e.some(({bundleId:i})=>i&&n.includes(i))||o.some(({bundleId:i})=>i&&n.includes(i))}async function c(){if(!await w()){let e={style:r.Toast.Style.Failure,title:"Session is not installed",message:"Read more here",primaryAction:{title:"Download information",onAction:o=>{(0,r.open)("https://www.stayinsession.com"),o.hide()}}};return await(0,r.showToast)(e),!1}return!0}var s=require("react/jsx-runtime"),h=async e=>{if(await c()){let o="session:///start",i=[`intent=${e.intent}`??null,`duration=${e.duration}`??null,`notes=${e.notes}`??null,`categoryName=${e.category}`??null].join("&"),a=`${o}?${i}`;(0,t.open)(a),await(0,t.closeMainWindow)(),await(0,t.showHUD)("New session started \u23F2\uFE0F")}};function p(){let e=(0,t.getPreferenceValues)(),o=()=>{if(e.categoryList){let n=e.categoryList.split(";");return n=n.filter(i=>i.trim()!==""),(0,s.jsx)(t.Form.Dropdown,{id:"category",title:"Category",children:n.map(i=>(0,s.jsx)(t.Form.Dropdown.Item,{value:i,title:i}))})}else return(0,s.jsx)(t.Form.Description,{title:"Category",text:"No category list configured. Please create a semi-colon separated list of categories to choose from in command preferences."})};return(0,s.jsxs)(t.Form,{actions:(0,s.jsx)(t.ActionPanel,{children:(0,s.jsx)(t.Action.SubmitForm,{title:"Start Session",onSubmit:h})}),children:[(0,s.jsx)(t.Form.TextField,{id:"intent",title:"Intent",autoFocus:!0}),(0,s.jsx)(o,{}),(0,s.jsx)(t.Form.TextField,{id:"duration",title:"Duration (Minutes)",placeholder:"Leave blank for default value"}),(0,s.jsx)(t.Form.TextArea,{id:"notes",title:"Notes"})]})}
