{
  "$schema": "https://www.raycast.com/schemas/extension.json",
  "name": "youtrack",
  "title": "YouTrack",
  "description": "YouTrack ðŸ”„ Raycast",
  "icon": "command-icon.png",
  "author": "tiulpin",
  "contributors": [
    "skoch13",
    "grimbixcode",
    "ruslan-korneev"
  ],
  "categories": [
    "Developer Tools",
    "Productivity"
  ],
  "license": "MIT",
  "commands": [
    {
      "name": "browse",
      "title": "Browse Issues",
      "subtitle": "YouTrack",
      "description": "Find issues you need as fast as you can with this Raycast command.",
      "mode": "view",
      "preferences": [
        {
          "title": "Query",
          "name": "query",
          "description": "Query to browse issues",
          "required": true,
          "default": "for: me State: Unresolved",
          "placeholder": "for: me State: Unresolved",
          "type": "textfield"
        },
        {
          "name": "maxIssues",
          "title": "Issues limit",
          "description": "Limit the number of returned issues by a query",
          "required": false,
          "default": "50",
          "data": [
            {
              "title": "50",
              "value": "50"
            },
            {
              "title": "100",
              "value": "100"
            },
            {
              "title": "500",
              "value": "500"
            },
            {
              "title": "1000",
              "value": "1000"
            }
          ],
          "type": "dropdown"
        }
      ]
    },
    {
      "name": "create",
      "title": "Create Issue",
      "subtitle": "YouTrack",
      "description": "Create a new issue in YouTrack.",
      "mode": "view",
      "preferences": [
        {
          "title": "Projects dropdown mode",
          "name": "mode",
          "description": "Use favorite projects set in preferences or browse all projects for 'Create Issue' command",
          "type": "dropdown",
          "required": true,
          "default": "all",
          "data": [
            {
              "title": "All projects",
              "value": "all"
            },
            {
              "title": "Favorite projects",
              "value": "favorite"
            }
          ]
        },
        {
          "title": "Favorite projects",
          "name": "favorite",
          "placeholder": "DEMO, TEST, ...",
          "type": "textfield",
          "required": false,
          "description": "Comma-separated list of favorite project IDs"
        },
        {
          "title": "Projects limit",
          "description": "Limit projects for 'All projects'",
          "name": "maxProjects",
          "type": "dropdown",
          "required": false,
          "default": "10",
          "data": [
            {
              "title": "10",
              "value": "10"
            },
            {
              "title": "25",
              "value": "25"
            },
            {
              "title": "50",
              "value": "50"
            },
            {
              "title": "100",
              "value": "100"
            },
            {
              "title": "250",
              "value": "250"
            },
            {
              "title": "300",
              "value": "300"
            },
            {
              "title": "500",
              "value": "500"
            }
          ]
        },
        {
          "title": "Tags limit",
          "description": "Limit number of tags returned",
          "name": "maxTags",
          "type": "dropdown",
          "required": false,
          "default": "25",
          "data": [
            {
              "title": "10",
              "value": "10"
            },
            {
              "title": "25",
              "value": "25"
            },
            {
              "title": "50",
              "value": "50"
            },
            {
              "title": "100",
              "value": "100"
            },
            {
              "title": "250",
              "value": "250"
            }
          ]
        },
        {
          "title": "Copy link as",
          "name": "linkAs",
          "description": "Copy link as a markdown or plain text",
          "type": "dropdown",
          "required": false,
          "default": "markdown",
          "data": [
            {
              "title": "Markdown",
              "value": "markdown"
            },
            {
              "title": "Plain text",
              "value": "text"
            }
          ]
        }
      ]
    }
  ],
  "tools": [
    {
      "name": "create-issue",
      "title": "Create Issue",
      "description": "Creates an issue in YouTrack",
      "instructions": "Create a new issue in YouTrack with the given input. Check if project exists first.",
      "input": {
        "type": "object",
        "properties": {
          "summary": {
            "type": "string",
            "description": "The title of the task"
          },
          "description": {
            "type": "string",
            "description": "The description of the task"
          },
          "project": {
            "type": "string",
            "description": "The project short name, e.g. `DEMO`"
          }
        },
        "required": [
          "summary",
          "project"
        ]
      },
      "confirmation": true
    },
    {
      "name": "get-projects",
      "title": "Get Projects",
      "description": "Reads cached projects from the file system or requests them from YouTrack.",
      "instructions": "Reads projects from the cache, or fetches them from YouTrack if not present.",
      "input": {
        "type": "object",
        "properties": {
          "project": {
            "type": "string",
            "description": "The project short name, e.g. `DEMO`"
          }
        },
        "required": []
      },
      "confirmation": false
    },
    {
      "name": "get-users",
      "title": "Get Users",
      "description": "Reads cached users from the file system or requests them from YouTrack.",
      "instructions": "Reads users from the cache, or fetches them from YouTrack if not present.",
      "input": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The user username or name"
          }
        },
        "required": []
      },
      "confirmation": false
    },
    {
      "name": "get-self",
      "title": "Get Self",
      "description": "Reads cached self user from the file system or requests it from YouTrack.",
      "instructions": "Reads self user from the cache, or fetches them from YouTrack if not present.",
      "confirmation": false
    },
    {
      "name": "apply-command",
      "title": "Apply Command",
      "description": "Applies a command to an issue in YouTrack",
      "instructions": "This tool applies command to a given issueId. It should be never called by itself, but as a companion tool.",
      "input": {
        "type": "object",
        "properties": {
          "command": {
            "type": "string",
            "description": "Command query which will be applied to the issue. Possible options:\n- Add comment == `comment` and text should be put to 'comment' param\n- Assign to user == 'for %USERNAME%'\n- Change status == 'State %STATE%'\n- Add tag == 'tag %TAGNAME%'\n- Remove tag == 'untag %TAGNAME%'\n- Add work item == 'work '"
          },
          "idReadable": {
            "type": "string",
            "description": "This field is used for confirmation presentation found as idReabale"
          },
          "comment": {
            "type": "string",
            "description": "This field is used only for 'Add comment' command"
          }
        },
        "required": [
          "command",
          "idReadable",
          "comment"
        ]
      },
      "confirmation": true
    },
    {
      "name": "get-issues",
      "title": "Get Issues",
      "description": "Gets issues from YouTrack",
      "instructions": "Fetches issues from YouTrack for the specified project.",
      "input": {
        "type": "object",
        "properties": {
          "project": {
            "type": "string",
            "description": "The project short name, e.g. `DEMO`"
          },
          "top": {
            "type": "number",
            "description": "The number of issues to fetch."
          }
        },
        "required": [
          "project"
        ]
      },
      "confirmation": false
    },
    {
      "name": "get-comments",
      "title": "Get Comments",
      "description": "Gets comments from an issue in YouTrack",
      "instructions": "Fetches comments from YouTrack for the specified issue.",
      "input": {
        "type": "object",
        "properties": {
          "issueId": {
            "type": "string",
            "description": "The issue id, e.g. `DEMO-1`"
          },
          "top": {
            "type": "number",
            "description": "The number of comments to fetch."
          }
        },
        "required": [
          "issueId"
        ]
      },
      "confirmation": false
    }
  ],
  "preferences": [
    {
      "title": "YouTrack instance",
      "name": "instance",
      "description": "Your YouTrack instance address",
      "required": true,
      "type": "textfield",
      "placeholder": "https://example.youtrack.cloud"
    },
    {
      "title": "Token",
      "name": "token",
      "description": "We are going to use this to authorize your YouTrack instance on your account",
      "required": true,
      "placeholder": "perm:XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
      "type": "password"
    }
  ],
  "dependencies": {
    "@raycast/api": "^1.100.2",
    "beautiful-react-hooks": "^5.0.3",
    "lodash": "^4.17.21",
    "youtrack-client": "^0.5.2"
  },
  "devDependencies": {
    "@eslint/eslintrc": "^3.3.1",
    "@eslint/js": "^9.29.0",
    "@raycast/utils": "^2.0.1",
    "@types/lodash": "^4.17.18",
    "@types/node": "22.13.14",
    "@types/react": "19.1.8",
    "@vitest/eslint-plugin": "^1.2.7",
    "eslint": "^9.29.0",
    "eslint-config-prettier": "^10.1.5",
    "eslint-plugin-import": "^2.31.0",
    "eslint-plugin-prettier": "^5.5.0",
    "eslint-plugin-react": "^7.37.5",
    "eslint-plugin-react-hooks": "^5.2.0",
    "globals": "^16.2.0",
    "prettier": "^3.5.3",
    "typescript": "^5.8.3",
    "typescript-eslint": "^8.34.1",
    "vitest": "^3.2.4",
    "youtrack-client": "^0.5.2"
  },
  "scripts": {
    "build": "ray build -e dist",
    "dev": "ray develop",
    "fix-lint": "ray lint --fix",
    "lint": "ray lint",
    "test": "vitest",
    "publish": "npx @raycast/api@latest publish"
  },
  "packageManager": "pnpm@8.9.2+sha512.b9d35fe91b2a5854dadc43034a3e7b2e675fa4b56e20e8e09ef078fa553c18f8aed44051e7b36e8b8dd435f97eb0c44c4ff3b44fc7c6fa7d21e1fac17bbe661e",
  "ai": {
    "instructions": "When you don't know the project, ask for it. Never assume project name. It must be explicitly provided or it should have hashtag before its name. Return cached projects as 'known projects'.",
    "evals": [
      {
        "input": "@youtrack list projects",
        "mocks": {
          "get-projects": [
            {
              "id": "0-1",
              "name": "Another project",
              "shortName": "ANOTHER"
            },
            {
              "id": "0-0",
              "name": "Demo project",
              "shortName": "DEMO"
            }
          ]
        },
        "expected": [
          {
            "callsTool": {
              "arguments": {},
              "name": "get-projects"
            }
          }
        ]
      },
      {
        "input": "@youtrack list 2 issues in DEMO project",
        "mocks": {
          "get-issues": [
            {
              "created": "Thu Jun 19 2025",
              "customFields": [],
              "date": "Thu Jun 19 2025",
              "description": "testing",
              "id": "DEMO-1",
              "project": {
                "id": "0-0",
                "name": "Demo project",
                "shortName": "DEMO"
              },
              "resolved": false,
              "summary": "hello"
            },
            {
              "created": "Thu Jun 19 2025",
              "customFields": [],
              "date": "Thu Jun 19 2025",
              "description": "testing2",
              "id": "DEMO-2",
              "project": {
                "id": "0-0",
                "name": "Demo project",
                "shortName": "DEMO"
              },
              "resolved": true,
              "summary": "hello"
            }
          ]
        },
        "expected": [
          {
            "callsTool": {
              "arguments": {
                "project": "DEMO",
                "top": 2
              },
              "name": "get-issues"
            }
          },
          {
            "callsTool": {
              "arguments": {
                "project": "demo"
              },
              "name": "get-projects"
            }
          }
        ]
      },
      {
        "input": "@youtrack create issue in demo project and add 1h work, assign to admin",
        "mocks": {
          "apply-command": "Successfully called \"apply-command\"",
          "create-issue": {
            "$type": "Issue",
            "description": "Add 1 hour of work",
            "id": "3-74",
            "idReadable": "DEMO-66",
            "numberInProject": 66,
            "project": {
              "$type": "Project",
              "shortName": "DEMO"
            },
            "summary": "Work Assignment",
            "tags": []
          },
          "get-projects": [
            {
              "id": "0-1",
              "name": "aaaaaa",
              "shortName": "AAA"
            },
            {
              "id": "0-0",
              "name": "Demo project",
              "shortName": "DEMO"
            }
          ],
          "get-self": {
            "$type": "Me",
            "avatarUrl": "/hub/api/rest/avatar/2e7b17f1-4cdc-4d74-8f3e-eea7d928ddb5?s=48",
            "email": null,
            "fullName": "admin",
            "id": "2-1",
            "login": "admin"
          }
        },
        "expected": [
          {
            "callsTool": {
              "arguments": {
                "project": "demo"
              },
              "name": "get-projects"
            }
          },
          {
            "callsTool": {
              "arguments": {},
              "name": "get-self"
            }
          },
          {
            "callsTool": {
              "arguments": {
                "description": "Add 1 hour of work",
                "project": "DEMO",
                "summary": "Work Assignment"
              },
              "name": "create-issue"
            }
          },
          {
            "callsTool": {
              "arguments": {
                "command": "work 1h",
                "comment": "",
                "idReadable": "DEMO-66"
              },
              "name": "apply-command"
            }
          },
          {
            "callsTool": {
              "arguments": {
                "command": "for admin",
                "comment": "",
                "idReadable": "DEMO-66"
              },
              "name": "apply-command"
            }
          }
        ]
      }
    ]
  }
}